---
layout: workshop
title: "UoA LaTeX Workshop"
date: 2018-10-08
---

<div class="instructor_note">Point everyone to this document and explain how it will be updated at the end of the day with any changes that are required after the workshop.</div>

## Key Workshop Objectives
- Understand the basic structure of a Latex document
- Understand the typical Latex workflow
- Get you to a point where you feel confident using and experimenting with Latex on your own!

## Workshop Overview
- *Why* use Latex?
- *How* Latex works (and the typical workflow)
- Overleaf: What it is and why you might want to use it
- Basic Latex structure
- Working with sections, chapters etc.
- Organizing your files
- Figures
- Math Mode
- References and citations
- UoA thesis template
- Working with packages
- Handy tools and links

## Why use Latex? What's wrong with Word?
- Prevalence in academic literature
- Working with large files
- Professional looking typeset documents!
    - Equations easily in the various math modes
    - Tables, graphs and figures using `TikZ`, `PGF-Plots` vector graphics
    - Can even automatically populate these graphs and figures using your existing research data (e.g. with `csv` files)
    - Working with non-Latin scripts (Arabic, Sanskrit etc.)
- Not just used for academic literature
    - Academic journal articles, books, CVs, presentations, posters
    - Check out [the gallery here](https://www.overleaf.com/gallery/tagged/academic-journal) for all sorts of examples

## Typical Workflow
Do your writing in a Latex `.tex` file + Bibliography `.bib` file *(optional)* → Run the files through a Latex `distribution` (sometimes called a `compiler`) → Outputs a PDF

This is a different way of working to WYSIWYG editors like Microsoft Word. Some people claim this allows you to focus more on your content than its appearance. On the other hand your writing now has Latex specific commands intermingled with it.

## Latex Editors
These are what you actually do your writing in. Because Latex is written in plain text, if you wanted to (and plenty of people do) you could use a simple text editor like Notepad to do your writing, and then run the Latex `distribution` (the software that takes all your Latex files and outputs a PDF) yourself.

However, this is unnecessarily complicated and newer Latex editors provide lots of nice features like spell checking, code higlighting, and autocompletion.

You *must* have a Latex distribution installed on your computer to be able to `build` your Latex files.  [MikTeX](https://miktex.org/) and [TeX Live](https://www.tug.org/texlive/) are by far the most popular. On most Linux distributions and Mac OS Latex comes preinstalled. Then go ahead and download the editor of your choosing.

My personal recommendations for desktop Latex editors:

1. TeXstudio
2. TeXmaker
3. Texworks

However a more recent development in the Latex world is **web based** Latex editors. This is what we will be using today.

## Overleaf
Overleaf is a modern web based Latex editor that allows you to work on Latex documents anywhere in the world without needing to install any software, all you need is your browser (although you need an active Internet connection).

<img src="/assets/workshops/latex/overleaf_homepage.png" alt="Overleaf Homepage" class="screenshot" />

Because it is a web based tool, it also has some other helpful features that you typically don't get from desktop-based editors, the most useful of which are:

- Live `recompiling`: Your changes are automatically reflected in the PDF preview as you're working on them
- Collaboration: Overleaf allows you to share your Latex projects with other users. This is especially useful for working with co-authors and/or sharing your papers with your supervisors as you're working on them 

Overleaf has a free plan. However for full features they charge a monthly fee. Half price plans are available to students. In my opinion the only major limting feature of the free plan is that it only allows you to share your document with a single collaborator. Provided this isn't a deal breaker, the free plan still provides heaps of features and allows you to create unlimited private projects. 

<div class="instructor_note">
Demonstrate and make sure everyone can log in. Tell the students to make a new blank project and delete the autogenerated text.
</div>

## Basic Latex

<div class="instructor_note">Explain how Latex documents are a mixture of commands and content. Explain what commands look like.</div>

Every Latex document is comprised of a mixture of Latex commands and your actual content. Almost all Latex commands follow the exact same structure:

```tex
\command[optional arguments]{arguments}
```

Note the backslash (`\`) that precedes commands. This is what lets Latex know that everything following the backslash (up until the next space) should be interpreted as being a Latex command, rather than just ordinary content.

Almost all Latex commands take `arguments`. This is the information that you 'pass' to the command, to tell it what to do. For example:

```tex
This text would appear formatted normally, but \textbf{this text would appear bold}.
```

The above command would appear in your PDF as:

<div class="output">
This text would appear formatted normally, but <b>this text would appear bold</b>.
</div>

In the example above, the command `\textbf{}` tells Latex to **bold** anything that appears between the two curly-braces `{}`.

<div class="note">
The bf in <span class="manual-code">\textbf{}</span> stands for boldface, a technical term for bolded text. Similarly <span class="manual-code">\textit{}</span> makes text italic.
</div>

### Latex Document Structure
Every Latex document follows the same structure:

```
Preamble Commands
 - This is where you do things like specify:
    - The document type: e.g. whether it's a book or a journal article, and one or two columns
    - The document title and author(s)
    - List any packages you want to use (more on this later)
----
Document Content
- This is where you actually put the content of your document, and is generally divided into different chapters and/or sections, or in Latex terms 'environments'
```

In actual Latex, this is what it looks like:

```tex
\documentclass[twocolumn]{article}
\title{My first Latex document}
\author{Sam Kavangah}

\begin{document}
\maketitle
This is the actual body of the document, this text would appear in the PDF.
\end{document}
```

That above code is a **complete** and valid Latex document. That is all you need! Latex will take care of sorting out all the default margins and for you. It even generates a nice title, author, and date section for you based on the information you provided in the document `preamble` (i.e. the stuff that came before the `begin{document}` command).

If you were to paste the above code into Overleaf, you would see the following output PDF:

<img class="screenshot bordered"  src="/assets/workshops/latex/screenshot_first_document.png" alt="Screenshot First Document" />

The text only goes halfway across the page because we specified that this was a `twocolumn` document in the following Latex command:

```tex
\documentclass[twocolumn]{article}
```

This is an example of an **optional** argument, why is why it appears in `[]`. You could have instead simply written:

```tex
\documentclass{article}
```

and your document would have defaulted to a single column article.

<div class="instructor_note">Demonstrate different columns numbers (switch to 1) and document types.</div>

<div class="instructor_note">Demonstrate setting date manually, and multiple authors.</div>

<textarea class="instructor_note">
\documentclass{article}
\title{My first Latex document}
\author{Sam Kavanagh
\and
Andrew Luxton-Reilly
\and
Beryl Plimmer
}
\date{}

\begin{document}
\maketitle
This is the actual body of the document, this text would appear in the PDF.
\end{document}
</textarea>

## Latex Environments
Some commands have both *opening* and *closing* commands. These are generally referred to as `environments`, and you have already seen an example above.

```tex
\begin{document}
\end{document}
```

All content within the opening and closing command will have some sort of styling applied to them. For example, the environment below centres text:

```tex
\begin{center}
This text would be center-aligned!
\end{center}
```

<div class="note">
    <b>Whitespace</b>: Unlike Microsoft Word, Latex ignores whitespace (extra lines and spaces). You instead have to choose from the various Latex commands available to manually tell Latex to add additional whitespace. The <span class="manual-code">\medskip</span> command for example inserts a medium sized spacing between paragraphs.
</div>

<div class="instructor_note">
Demonstrate how whitespace works
</div>

You can nest environments within one another, however they must be `\begin{}` and `\end{}` in the correct order. For example, the Latex code below would generate an error:

```tex
\begin{document}
\begin{center}
This text would be center-aligned!
\end{document}
\end{center}
```

## Sections, Abstracts, and Chapters

<textarea readonly class="instructor_note">
\documentclass[twocolumn]{article}
\title{My first Latex document}
\author{Sam Kavanagh}

\begin{document}
\maketitle

\begin{abstract}
    In this article Sam tries his best to teach some Latex. Hopefully you find it useful.
\end{abstract}

\section{Introduction}
This is the actual body of the document, this text would appear in the PDF.

\section{Background}
Sam used Latex in his own PhD, and he thinks it's pretty cool.

\subsection{Research Questions}
This research hopes to answer two primary research questions:

\begin{enumerate}
    \item Is Latex as cool as Sam thinks it is?
    \item Is it worth the effort?
\end{enumerate}

\end{document}
</textarea>

Usually we don't write our articles as one big block of content, instead we divide it into different `chapters`, `sections`, and `subsections`. Although it seems logical to use `environments` for sectioning, this is because when you're potentially dealing with `subsections` and even `subsubsections` you can end up with chaotic looking code like this:

```tex
\begin{document}
\begin{section}{Section One}
...
\begin{subsection}{Subsection One}
...
\begin{subsubsection}{Subsubsection One}
...
\end{subsubsection}
\end{subsection}
\end{section}
\end{document}
```

Instead Latex has dedicated commands such as `\section{}` and `\chapter{}` to indicate the **beginning** of a new section, and these have no `\end{}` tag. For example:

```tex
\begin{document}
\section{Introduction}
This appears in the introduction section.
\subsection{Research Questions}
This text would appear in a subsection named '1.1 Research Questions'.
\end{document}
```

<div class="note">
<b>Exception: Abstracts</b>. The abstract section is an exception to the rule, because some <span class="manual-code">Latex class files</span> (which are basically just a list of commands that act as a style template for your documents, more on this soon) apply special formatting to the abstract section. Instead we use <span class="manual-code">\begin{abstract}</span> and <span class="manual-code">\end{abstract}</span>.
</div>

We'll take a look at working with larger documents now instead of articles. Go ahead and create a new blank project named 'thesis' and delete the automatically generated contents.

<div class="instructor_note">
Tell students to create a new blank project called 'Thesis' and to delete the automatically generated content.
</div>

<div class="instructor_note">
Tell the students to turn off autocomplete for learning purposes.
</div>

## Organizing Bigger Documents
Let's create a basic outline for our new thesis project and build on it from here.

```tex
\documentclass{report}
\title{Sam's Latex Thesis}
\author{Sam Kavanagh}

\begin{document}
\maketitle

\chapter{Introduction}
Welcome to my professional looking Latex thesis.

\chapter{Background}
Look, Latex puts this on a new page for me!

\end{document}
```

One of the nice things about working with Latex is that you can easily split your content into different files (for example a different file for each chapter), and then have a single 'main' thesis file which combines all these files and outputs a single PDF. This makes life a lot easier when you start dealing with big documents like theses.

Let's do that now. Create a new folder in your Latex project named `chapters`, and within the folder create 2 new files, `introduction.tex` and `background.tex`. Next we'll take the content corresponding to each of the chapters from our existing `main.tex` file, and place it in the appropriate file. For example, the file `background.tex` should now look like this:

```tex
\chapter{Background}
Look, Latex puts this on a new page for me!
```

And your projects file structure should now look like this:

<img src="/assets/workshops/latex/project_structure.png" alt="Project File Structure" class="screenshot" />

## The \input{} Command
In order to tell our `main.tex` file to grab the content from our new files, we simply use the `\input{}` command, and pass it the `path` to our new files. This path is *relative* to the location of the file that the command is in. For example, if we had a file named `methodology.tex` **within the same folder** as our `main.tex` file we would use the command `\input{"methodology"}`.

However, because we're nice and tidy Latex users, we put our chapters into the separate `chapters` folder, so we instead use the command `input{"chapters/introduction"}` and `input{"chapters/background"}`.

<div class="note">
The double quotes <span class="manual-code">"</span> are optional in this case, but are recommended because otherwise Latex doesn't play nice if you have spaces in your file names. 
</div>

<div class="note">
You don't need to duplicate all of the preamble in your chapter files. The <span class="manual-code">\input{}</span> command takes all of the content from individual files and uses it to create one big <span class="manual-code">.tex</span> file, so from Latex's point of view nothing has changed.
</div>

Our `main.tex` file should now look like this:

```tex
\documentclass{report}
\title{Sam's Latex Thesis}
\author{Sam Kavanagh}

\begin{document}
\maketitle

\input{"chapters/introduction"}
\input{"chapters/background"}

\end{document}
```

## Figures
Most of our documents aren't going to be comprised solely of text, but will include various *figures* (e.g. graphs and images). Latex handles the placement and referencing of figures in text very well (although it might seem a little confusing at first), and it is one of the primary reasons people prefer it over Microsoft Word when dealing with large documents.

There are many Latex `packages` (more on this later) that are able to **produce** beautiful professional looking graphs and figures figures by reading in your data, however these would require a workshop of their own. So for today we are going to assume we already have a figure that we have produced in another program, and we simply wish to include it in our document.

<div class="note">
If you <b>are</b> interested in Latex's figure plotting abilities, the <span class="manual-code">pgf</span> and <span class="manual-code">TikZ</span> packages. <a href="http://www.texample.net/tikz/examples/" title="PGF and TikZ Example Gallery">This webpage</a> provides an excellent gallery of what they are capable of, and the Latex code is included next to all the examples. 
</div>

### Uploading our own figure to Overleaf
I've gone ahead and created a simple graph for us to use as an example. Save a copy of the image to your personal computer by <a download="latex-vs-word.png" href="/assets/workshops/latex/latex-vs-word.png" title="Latex vs Word"> clicking here </a> (if the link doesn't work try <a href="/assets/workshops/latex/latex-vs-word.png" alt="Latex vs Word">this instead</a>). **Make sure you save the image somewhere you can find again!**

Back in Overleaf, let's create a new folder to save our figures. `figures` seems like the logical choice here! Make sure you **don't** create this folder inside the `chapters` folder, to be safe try clicking the `main.tex` file before clicking the `New Folder` icon.

After we have our new folder it's time to upload our existing figure. Click on the folder (so that it becomes highlight) and then click the `Upload` button and find the file we just downloaded.

If it looks like your file hasn't uploaded, try clicking the little `>` (expand) icon to the left of the folder. After your all done your new project structure should look like this:

<img src="/assets/workshops/latex/project_structure2.png" alt="Project File Structure" class="screenshot" />

### The Figure Environment and Packages
To include a figure in Latex we work with the `figure` environment.

```tex
\begin{figure}
\end{figure}
```

Before we go any further it's important to point out that by default Latex doesn't provide much functionality for working with images (graphics), so it's about time we start working with our very first `package`!

Packages are simply additional libraries that provide functionality **beyond what Latex can do by default**. To use a package in Latex is super easy, we just use the command `\usepackage{packagename}` in our documents `preamble`.

Jump back to our `main.tex` file and insert the following command on the line immediately after the `\documentclass{}` command (i.e. line 2):

```tex
\usepackage{graphicx}
```

`graphicx` is a very popular modern package that provides an improved way of working with graphics in Latex, and allows us to use a new command: `\includegraphics{}`.

Let's update our `background.tex` with the following content:

```tex
Latex has a steeper learning curve than Microsoft Word, but as the document grows it makes your life a lot easier!

\begin{figure}
    \includegraphics{"figures/latex-vs-word"}
\end{figure}
```

That didn't work very well! Latex *does* include the figure just like we asked, however it makes no attempt to scale the image down to fit correctly, and tries to be helpful by putting the image on the next page (but we don't want that!).

Time to work on improving our figure!

### Scaling the figure
Step 1. Let's get our image down to a size that's more manageable. The `\includegraphics{}` command takes many optional arguments, including `width`, `height`, and `scale` and these are always written in the format `key=value`, for example: `\includegraphics[width=300px]{"figures/latex-vs-word"}`. In our case `scale` should do the job. Update the existing command to look like the one below:

```tex
\includegraphics[scale=0.25]{"figures/latex-vs-word"}
```

### Image Placement
Much better, however our whole figure is still on the wrong page. Thankfully the `\begin{figure}` also takes optional arguments, you will often use these to tell the Latex that you want the figure placed at the `t`op, `b`ottom, or simply right `h`ere on the page! Unlike most other normal commands, optional arguments to the `\begin{}` command come **after** the non-optional arguments. 

Let's update our figure to tell it that we want the figure placed `h`ere.

```tex
\begin{figure}[h]
```

### Alignment
We've already looked at the `center` environment, so let's go ahead and use that now to center our image on the page. Our figure code should now look like this:

```tex
\begin{figure}[h]
    \begin{center}
        \includegraphics[scale=0.25]{"figures/latex-vs-word"}
    \end{center}
\end{figure}
```

### Captions
The last thing our figure needs is a caption, let's add one now with (unsurprisingly!) the `\caption{}` command. Add a new line after the `\includegraphics{}` command, and insert the following:

```tex
\caption{Latex document complexity vs time and effort.}
```

That's it! Your finished figure should look something like this:

<img src="/assets/workshops/latex/figure_screenshot.png" alt="Screenshot of finished figure" class="screenshot bordered" />

### Referencing our image
After the `\end{figure}` environment let's add some text to refer to our snazzy new figure.

```tex
If you're still unsure about whether you want to use Microsoft Word or Latex, refer to Figure 2.1 for irrefutable evidence of Latex's superiority.
```

Typically when we're writing big documents we add and remove figures as it grows, and keeping track of the numbers of figures becomes a pain. Thankfully Latex provides functionality for referring to other parts of your document using a combination of the `\label{}` and `\ref{}` commands.

These two commands work hand-in-hand: We use the `\label{}` command after any `figure`, `chapter`, `section` etc. to define a label that we can then refer to anywhere in our document using the `\ref{}` command.

These labels can be called anything we want, but most people like to start the label name with `fig:`, `chap:`, `sec:` to make it easier to keep track of what they're referring to.

Let's create a label for our figure.

```tex
\begin{figure}[h]
    \begin{center}
        \includegraphics[scale=0.25]{"figures/latex-vs-word"}
        \caption{Latex document complexity vs time and effort.}
        \label{fig:latexVsWord}
    \end{center}
\end{figure}
```

Now let's update the paragraph at the bottom of the page to use the `\ref{}` command, rather than doing it manually:

```tex
If you're still unsure about whether you want to use Microsoft Word or Latex, refer to Figure \ref{fig:latexVsWord} for irrefutable evidence of Latex's superiority.
```

That's it! From the readers point of view nothing has changed, but we can insert new figures before our referenced figure or even move the figure to an entirely new chapter and the reference number would automatically be updated. 

## Footnotes
In academic writing someting we use fairly often are footnotes. In Latex setting up a footnote is as simple as placing the command `\footnote{}` anywhere you want the marker to appear. Latex will take care of numbering and placing the footnote at the bottom of the page for you.

Let's add a footnote to our `background.tex` file:

```tex
\chapter{Background}
Look, Latex puts this on a new page\footnote{This is not the case with the article documentclass.} for me!
```
## Working with Equations
Another reason many people use Latex for typesetting their documentation is its support for rendering mathematical equations.

There are 2 main ways people do this: the `inline` and `display` math modes.

### Inline Math
Inline math is pretty self-explanatory, it is used when we want to display an equation in the same line as our current sentence. To do so, we use the `$` symbol to both open and close the mode.

Let's add a new section to our `introduction.tex`:

```tex
\section{Mathematical Motivation for Research}
The happiness of Microsoft Word users as a function over time can be modeled by the function $y=-x+5$ while scientists have demonstrated that the happiness of \LaTeX can be modeled by the function $y=x^2+9001$.
```

<div class="note">
<b>Special Math Characters:</b> There's a lot of characters that get interpreted specially in math mode. In the example above we used the <span class="manual-code">^</span> (<span class="manual-code">superscript</span>) command to tell Latex that what comes after that should be a superscript (in our case an exponential). If we needed this to be several characters we would surround it in curly braces <span class="manual-code">{}</span> as with any other command. For example: <span class="manual-code">$y=x^{2+y}+9001$</span>.
</div>

## Display Math

If instead we want our figures to be numbered and appear on their own line (much like a figure), we can instead use the `equation` environment. The way that we write equations remains unchanged from the `inline` style:

```tex
\begin{equation}
    f(x_1, x_2) = \pi * (x_1 - x_2)
\end{equation}
```

Your introduction chapter should now look like this:

<img src="/assets/workshops/latex/equation_environment.png" class="screenshot bordered" alt="Equation environment in our introduction chapter">

## Comments
One super handy feature of Latex is `comments`. Comments allow us to make notes to ourselves within our `.tex` files, that are simply ignored by Latex when building your document. You can use these to make reminders to yourself about what a particular line of Latex does, or to plan sections in advanced - and they will never appear in the PDF!  

Commenting in Latex is done with the `%` character. Any text that appears after the `%` on a line is ignored. For example:

```tex
\section{Mathematical Motivation for Research}
% In this chapter I'm going to give a quick intro about why Latex is cool, and prove it mathematically
The happiness of Microsoft Word users as a function over time can be modeled by the function $y=-x+5$ while scientists have demonstrated that the happiness of \LaTeX can be modeled by the function $y=x^{2+y}+9001$.

\begin{equation} % I should also consider investigating whether this equation even makes any sense
    f(x_1, x_2) = \pi * (x_1 - x_2)
\end{equation}
```